# Принцип единственной ответственности (SRP) ([EN](./README.md))

Принцип единственной ответственности (SRP) говорит, что у класса должна быть только одна причина для изменения. Это означает, что у класса должна быть только одна обязанность или задание. Если у класса несколько обязанностей, становится сложно поддерживать и модифицировать код.

Следуя SRP, разработчик может создать код, который легко понять, тестировать и модифицировать. Это, также, позволяет лучше организовывать и уменьшить количество связей между классами, сделав общую систему более модульной и расширяемой.

Давайте посмотрим на следующий код:

```typescript
class User {
  constructor(private name: string, private email: string) {}

  save() {
    // Сохранить пользователя в базе данных
  }

  sendEmail(subject: string, body: string) {
    // Отправить письмо пользователю
  }

  delete() {
    // Удалить пользователя
  }
}
```

В этом примере у класса `User` есть несколько зон ответственности: сохранить пользователя в базе данных, отпраить пользователю электронное письмо и удалить пользователя из базы данных. Это нарушает принцип единственной ответственности потому что у класса появляется более чем одна причина для изменения. Например, если мы захотим изменить то, как пользователь сохраняется в базе даных, мы также должны затронуть код по отправке электронной почты и удаления пользователя.

Что бы улучшить этот код, следуя принципу единственной ответственности, мы должны разделить ответственность по разным классам. Например:

```typescript
class User {
  constructor(private name: string, private email: string) {}
}

class UserRepository {
  save(user: User) {
    // Сохранить пользователя в базе данных
  }

  delete(userId: number) {
    // Удалить пользователя
  }
}

class EmailSender {
  sendEmail(to: string, subject: string, body: string) {
    // Отправить письмо пользователю
  }
}

class UserManager {
  constructor(private userRepository: UserRepository, private emailSender: EmailSender) {}

  registerUser(username: string, password: string, email: string) {
    const user = new User(username, email);
    this.userRepository.save(user);
    this.emailSender.sendEmail(email, "Добро пожаловать на наш сайт", "Спасибо за регистрацию!");
  }

  deleteUser(userId: number) {
    this.userRepository.delete(userId);
  }
}
```

В этом коде, класс `User` только отвечает за представление пользователя. Класс `UserRepository` отвечает за сохранение и удаление из базы данных, а класс `EmailSender` отвечает за отправку пользователю электронного письма. Что касается `UserManager`  класса, то он отвечает за управление пользователями, делегируя ответственнось за создание классу `UserRepository`, а ответственность за отправку эмейла - классу `EmailSender`.

Таким образом, каждый класс имеет только одну зону ответственности, а такой код проще поддерживать и расширять.

[Вернуться на главную](../README_RU.md) | [Следующая](../O/README_RU.md)